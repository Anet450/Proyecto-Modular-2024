using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.Video;
using static ObtenerDatos;

public class PruebaB : MonoBehaviour
{
    [SerializeField]
    private GameObject Prefrab;
    private GameObject Lugar;
    private GameObject Apagador;

    private ObtenerDatos obtenerDatos;
    private ListasComputadoras ListComp;

    [SerializeField]
    private GameObject[] controladorAcceso = new GameObject[0];

    private Virus virus;
    private ChatControlador chatDesbl;

    [SerializeField]
    private GameObject Denegado;
    bool m;

    public Text TextoAu;

    public void Start()
    {
        ListComp = GameObject.FindObjectOfType<ListasComputadoras>();
        obtenerDatos = this.gameObject.AddComponent<ObtenerDatos>();
    }

    public void Update()
    {
        virus = GameObject.FindObjectOfType<Virus>();
        chatDesbl = GameObject.FindObjectOfType<ChatControlador>();

    }

    public void Letras()
    {
        TextoAu.text = "Ingresa la contraseña de la computadora: " + ListComp.idComputerText;
    }
    public void ApagarBuscar()
    {

        Lugar = GameObject.Find("ListaA");
        //chatDesbl.activacionOpc(14);
        if (Lugar == null)
        {
            Debug.Log("Ya esta apagado");
        }
        ApagadoInstanciado();
        Debug.Log("Hello");
    }

    public void Cancelar()
    {
        Apagador = GameObject.Find("SiteApagado(Clone)");
        if (Apagador.activeInHierarchy == true)
        {
            Destroy(Apagador);
        }
    }
    public void ApagadoInstanciado()
    {
        Vector3 posicion = new Vector3(455f, -52f, -3.5765f);
        var Apagadores = Instantiate(Prefrab, Lugar.gameObject.transform);
    }


    public void AutentificacionCoordClaseS(string texto)
    {
        string Autorizacion = "nCGwIhs3a6fSLeN";
        if (m = Autorizacion == texto)
        {
            controladorAcceso[0].SetActive(false);
            controladorAcceso[1].SetActive(true);
        }
        else if (m = Autorizacion != texto)
        {
            Denegado.SetActive(false);
        }
    }

    public void AutentificacionAutorizaciones(string texto)
    {
        string Autorizacion = "Password1234";
        if (m = Autorizacion == texto)
        {
            controladorAcceso[1].SetActive(false);
            controladorAcceso[2].SetActive(true);

        }
        else if (m = Autorizacion != texto)
        {

            Denegado.SetActive(false);
        }
    }

    public void AutentificacionAdmRedes(string texto)
    {
        string Autorizacion = "8aU6J95Tno19KJX";
        if (m = Autorizacion == texto)
        {
            controladorAcceso[2].SetActive(false);
            Debug.Log("Computadoras apagadas");
            Debug.Log("Perdida por mala decision");
            Denegado.SetActive(false);
            //virus.malaDec = true;
            //virus.final4 = 4;
            //PlayerPrefs.SetInt("final4", virus.final4);
        }
        else if (m = Autorizacion != texto)
        {
            Denegado.SetActive(false);
            Cancelar();
        }
    }

    /*
    public void CompSiteAct()
    {
        obtenerDatos.GetComputadora_IP(ListaCompSiteAct);
    }

    public void ListaCompSiteAct(List<Computadora_IP> CompSiteAct)
    {

    }
    */
}
