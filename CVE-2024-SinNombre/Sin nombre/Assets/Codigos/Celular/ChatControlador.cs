using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Rendering;
using UnityEngine.UI;

public class ChatControlador : MonoBehaviour
{
    GameObject chatT1;
    GameObject chatT2;

    [SerializeField]
    private GameObject Anterior;
    
    public GameObject[] Actual = new GameObject[1];

    public GameObject[] globosTextos = new GameObject[1];
    public GameObject[] respuestasUsuario = new GameObject[1];
    public GameObject[] eleccionesGuardas = new GameObject[1];
    public TMPro.TextMeshProUGUI[] respuestasGuardas = new TMPro.TextMeshProUGUI[1];
    public TMPro.TextMeshProUGUI elecion;
    
    int c = 1;
    
    // Start is called before the first frame update
    void Start()
    {
        chatT1 = GameObject.Find("Tarea1");
        chatT2 = GameObject.Find("Tarea2");

        
    }

    public void SalirChat(int salir)
    {
        switch(salir)
        {
            case 0:
                Anterior.SetActive(false);
                break;
            case 1:
                Actual[1].SetActive(false);
                Actual[2].SetActive(false);
                //respuestasUsuario[0].SetActive(false);
                Anterior.SetActive(true);
                break;
            case 2:
                Actual[3].SetActive(false);
                Actual[4].SetActive(false);
                respuestasUsuario[0].SetActive(false);
                Anterior.SetActive(true);
                break;
             case 3:
                Actual[5].SetActive(false);
                Actual[6].SetActive(false);
                //respuestasUsuario[0].SetActive(false);
                Anterior.SetActive(true);
                break;
            case 4:
                Actual[7].SetActive(false);
                Actual[8].SetActive(false);
                //respuestasUsuario[0].SetActive(false);
                Anterior.SetActive(true);
                break;
            /*
            case 5:
                Actual[0].SetActive(false);
                break;*/
        }
    }

    public void Tarea1()
    {
        chatT1.SetActive(true);
        chatT2.SetActive(false);
    }

    public void selectorT(int i) //selector de rutas
    {
        switch (i)
        {
            case 1:
                globosTextos[0].SetActive(true);
                    Invoke("GT1", 2f);
                break;
            //Dos caminos Uso de manual 3, Hablar con Gabriel 2
            case 2:
                globosTextos[3].SetActive(true);
                Invoke("GT1P2", 6f);
                break;
            case 3:
                
                break;
            //Respuesta 1 preguntar, 2 seguir.



        }
    }
    public void SiguienteDialogo(int d)
    {       
        switch (d)
        {
            case 1:
                selectorT(1);
                break;
            case 2:
                selectorT(2);
            break;
           
        }
    }

    public void ElegirTarea1(string n)
    {
        if (n == 1.ToString())
        {
            respuestasUsuario[0].SetActive(true);
            respuestasUsuario[1].SetActive(false);
            respuestasUsuario[2].SetActive(false);
            elecion.text = "Que para eso no necesitan \n" +
                            "acceso a la base de datos";
            eleccionesGuardas[0].SetActive(true);
            respuestasGuardas[0].text = elecion.text;
            respuestasUsuario[3].SetActive(true);           
        } else if (n == 2.ToString())
        {
            respuestasUsuario[0].SetActive(true);
            respuestasUsuario[1].SetActive(false);
            respuestasUsuario[2].SetActive(false);
            elecion.text = "Suele pasar";
            eleccionesGuardas[0].SetActive(true);
            respuestasGuardas[0].text = elecion.text;
            respuestasUsuario[4].SetActive(true);
        }
        
    }

    public void resp(int part)
    {
        switch(part) {
            case 1:
                respuestasUsuario[1].SetActive(true);
                respuestasUsuario[2].SetActive(true);
            break;
        }    
    }

    //Chat Tarea 1 
    public void GT1()
    {
        globosTextos[1].SetActive(true);
        globosTextos[2].SetActive(true);
    }

    public void GT1P2()
    {
        globosTextos[4].SetActive(true);
        globosTextos[5].SetActive(true);
        globosTextos[6].SetActive(true);
        resp(1);
    }
}
