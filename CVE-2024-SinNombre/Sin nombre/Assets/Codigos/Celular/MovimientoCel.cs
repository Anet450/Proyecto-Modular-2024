using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class MovimientoCel : MonoBehaviour
{
    [SerializeField]
    private Transform Usocel;
    [SerializeField]
    private float speed;
    [SerializeField] //Variable de lugar de transformacion del celular
    private Transform Celular;

    [SerializeField]
    private Transform Soporte;
    public GameObject AccionD;


    [SerializeField]
    private GameObject Telefono;
    [SerializeField]
    private GameObject Usuario;

    private Vector3 ObjMira;

    //

    [SerializeField]
    private Transform PantallaOriginal;
    //[SerializeField]
    //private GameObject PantallaAnterior;
    [SerializeField]
    private GameObject AppCEY;
    [SerializeField]
    private GameObject AppFot;
    [SerializeField]
    private GameObject AppDoc;

    [SerializeField]
    private GameObject PantallaOculta;

    public void MovCelular()
    {
        //Se encarga del movimiento del soporte al usuario.
        float step = speed * Time.deltaTime;
        transform.position = Vector3.MoveTowards(transform.position, Usocel.position, step);
 
        Celular.SetParent(Usocel);

        //Se encarga de que el celular siempre este mirando al usuario.
        ObjMira = Usuario.transform.position;
        Telefono.transform.LookAt(ObjMira);

        AccionD.SetActive(true);
    }
    //funcion que se encarga de de dejar el telefono en el soporte
    public void DejarCelular()
    {
        Celular.SetParent(Soporte);
        Celular.transform.position = Soporte.transform.position;
        ObjMira = Usuario.transform.position;
        Telefono.transform.LookAt(ObjMira);

        AccionD.SetActive(false);
    }

    public void AplicacionCEY()//Funcion encargada del cambio a la Aplicacion 
    {

        //Se encarga de traer la pantalla de la aplicacion
        AppCEY.transform.position = PantallaOriginal.transform.position;
        AppCEY.transform.rotation = Celular.transform.rotation;
        //Oculta la el fondo de pantalla de la computadora.
        PantallaOculta.SetActive(!PantallaOculta.activeInHierarchy);
        

        AccionD.SetActive(true);
        AppCEY.transform.SetParent(Usocel);

    }

    public void AplciacionFot()
    {
        //Se encarga de traer la pantalla de la aplicacion
        AppFot.transform.position = PantallaOriginal.transform.position;
        AppFot.transform.rotation = Celular.transform.rotation;
        //Oculta la el fondo de pantalla de la computadora.
        PantallaOculta.SetActive(!PantallaOculta.activeInHierarchy);

        AccionD.SetActive(true);
        AppFot.transform.SetParent(Usocel);
    }

    public void AplciacionDoc()
    {
        //Se encarga de traer la pantalla de la aplicacion
        AppDoc.transform.position = PantallaOriginal.transform.position;
        AppDoc.transform.rotation = Celular.transform.rotation;
        //Oculta la el fondo de pantalla de la computadora.
        PantallaOculta.SetActive(!PantallaOculta.activeInHierarchy);

        AccionD.SetActive(true);
        AppDoc.transform.SetParent(Usocel);
    }

    
}
