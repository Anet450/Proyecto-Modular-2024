using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Usuario : MonoBehaviour
{
    [SerializeField]
    private Vector2 sensibilidad; //Variable usada para optener la sensibilidad del movimiento.

    private new Transform camara; //Variable usada para optener la camara de la escena

    // Start es llamada al inciar.
    void Start()
    {
        camara = transform.Find("Camara");
        //Esta linea de codigo buscara el GameObject que tenga como nombre "Camara" al incio del juego.
    }

    // Update es llamada en cada frame
    void Update()
    {
        float horiz = Input.GetAxis("Mouse X"); //variable que tendra los movimientos en horizontal.
        float vert = Input.GetAxis("Mouse Y"); //variable que tendra los movimientos en vertical.

        if (horiz != 0 )
        {
            transform.Rotate(Vector3.up * horiz * sensibilidad.x);
            /* Linea de codigo encargado de rotar la camara en Horizonal dependiendo del movimiento del mause*/
        }

        if(vert != 0 )
        {
            float angulo = (camara.localEulerAngles.x - vert * sensibilidad.x + 360) % 360;
            if(angulo > 180)
            {
                angulo -= 360;
            }
            angulo = Mathf.Clamp(angulo, -50, 40);
            camara.localEulerAngles = Vector3.right * angulo;
            /*Este if se encargara de rotar la camara en vertical, siempre y cuando no pasde de los angulos correspondientes*/

        }
    }
}
